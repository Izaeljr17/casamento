<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css">
  <title>Convite de Casamento — Marcos &</title>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo"><img src="" alt="casal"></div>
      <div class="title">
        <h1>Marcos & Rafaelly</h1>
        <p class="lead">Temos a alegria de convidar você para celebrar conosco</p>
      </div>
      <div style="text-align:right">
        <div style="font-weight:700">data</div>
        <div style="color:var(--muted)">Local do casamento</div>
      </div>
    </header>

    <section class="card">
      <div class="hero">
        <div class="info">
          <div class="date">data</div>
          <div class="details">Local do casamento</div>

          <div class="countdown" id="countdown">
            <div class="item"><div class="num" id="d">--</div><div class="muted">dias</div></div>
            <div class="item"><div class="num" id="h">--</div><div class="muted">horas</div></div>
            <div class="item"><div class="num" id="m">--</div><div class="muted">min</div></div>
            <div class="item"><div class="num" id="s">--</div><div class="muted">seg</div></div>
          </div>

          <div class="actions">
            <button class="btn btn-primary" id="rsvpBtn">Confirmar presença</button>
            <button class="btn btn-ghost" id="mapBtn">Como chegar</button>
          </div>

          <div style="margin-top:12px;color:var(--muted)">Contato para informações: (41) 9 8470 - 3154</div>
        </div>

        <aside>
          <div style="border-radius:12px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.06)">
            <img src="foto-noiva.jpg" alt="noiva" style="width:100%;height:320px;object-fit:cover">
            <div style="padding:12px;background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.98))">
              <div style="font-weight:700">Rafaelly</div>
              <div style="color:var(--muted);font-size:0.9rem">Noiva</div>
            </div>
          </div>
          <div style="height:12px"></div>
          <div style="border-radius:12px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.06)">
            <img src="foto-noivo.jpg" alt="noivo" style="width:100%;height:160px;object-fit:cover">
            <div style="padding:12px;background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.98))">
              <div style="font-weight:700">Marcos</div>
              <div style="color:var(--muted);font-size:0.9rem">Noivo</div>
            </div>
          </div>
        </aside>
      </div>

      <!--galeria do casal-->
      <div class="gallery" aria-label="Galeria de fotos">
        <div class="col">
          <img src="foto1.jpg" alt="foto1" data-large>
          <img src="foto2.jpg" alt="foto2" data-large>
        </div>
        <div class="col">
          <img src="foto3.jpg" alt="foto3" data-large>
          <img src="foto4.jpg" alt="foto4" data-large>
        </div>
        <div class="col">
          <img src="foto5.jpg" alt="foto5" data-large>
        </div>
      </div>
    </section>

    <footer>
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div>Traje: formal • Presentes: Não é necessário</div>
      </div>
    </footer>
  </div>

  <!-- RSVP Modal -->
  <div class="modal-back" id="rsvpModal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="rsvpTitle">
      <button class="close" id="closeModal">✕</button>
      <h2 id="rsvpTitle">Confirmar presença</h2>
      <form id="rsvpForm">
        <label for="name">Nome completo</label>
        <input id="name" type="text" required placeholder="Ex: João da Silva">

        <label for="email">E‑mail (opcional)</label>
        <input id="email" type="email" placeholder="seu@email.com">

        <label for="attend">Vai comparecer?</label>
        <select id="attend">
          <option value="Sim">Sim, confirmo presença</option>
          <option value="Não">Não poderei comparecer</option>
        </select>

        <label for="guests">Número de acompanhantes</label>
        <select id="guests">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
        </select>

        <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
          <button type="button" class="btn btn-ghost" id="cancel">Cancelar</button>
          <button type="submit" class="btn btn-primary">Enviar RSVP</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <img src="" alt="Foto ampliada" id="lightboxImg">
  </div>

  <script>
    // Countdown
    const eventDate = new Date('2026-01-10T16:00:00');
    function updateCountdown(){
      const now = new Date();
      let diff = Math.max(0, eventDate - now);
      const days = Math.floor(diff / (1000*60*60*24));
      diff -= days*(1000*60*60*24);
      const hours = Math.floor(diff / (1000*60*60));
      diff -= hours*(1000*60*60);
      const mins = Math.floor(diff / (1000*60));
      diff -= mins*(1000*60);
      const secs = Math.floor(diff / 1000);
      document.getElementById('d').textContent = days;
      document.getElementById('h').textContent = String(hours).padStart(2,'0');
      document.getElementById('m').textContent = String(mins).padStart(2,'0');
      document.getElementById('s').textContent = String(secs).padStart(2,'0');
    }
    updateCountdown();setInterval(updateCountdown,1000);

    // Modal logic
    const rsvpBtn = document.getElementById('rsvpBtn');
    const modal = document.getElementById('rsvpModal');
    const closeModal = document.getElementById('closeModal');
    const cancelBtn = document.getElementById('cancel');
    const form = document.getElementById('rsvpForm');

    rsvpBtn.addEventListener('click', ()=>{ modal.style.display='flex'; document.getElementById('name').focus(); });
    closeModal.addEventListener('click', ()=> modal.style.display='none');
    cancelBtn.addEventListener('click', ()=> modal.style.display='none');
    window.addEventListener('click', (e)=>{ if(e.target === modal) modal.style.display='none'; });

    // Form submission via SheetMonkey
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const data = {
        Nome: document.getElementById('name').value.trim(),
        Email: document.getElementById('email').value.trim(),
        VaiComparecer: document.getElementById('attend').value,
        Acompanhantes: document.getElementById('guests').value,
        Timestamp: new Date().toISOString()
      };

      try {
        const response = await fetch('https://api.sheetmonkey.io/form/uvEUdAyv4w79XWYRzdsCos', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          modal.style.display = 'none';
          alert('Obrigado! Seu RSVP foi enviado.');
          form.reset();
        } else {
          alert('Erro ao enviar RSVP. Tente novamente.');
        }
      } catch (err) {
        alert('Erro de conexão. Verifique sua internet.');
        console.error(err);
      }
    });

    // Map button
    document.getElementById('mapBtn').addEventListener('click', ()=>{
      const q = encodeURIComponent('Avenida das Palmeiras, 1234, Cidade das Águas');
      const url = `https://www.google.com/maps/search/?api=1&query=${q}`;
      window.open(url, '_blank');
    });

    // Lightbox for gallery
    const galleryImgs = document.querySelectorAll('.gallery img');
    const lightbox = document.getElementById('lightbox');
    const lbImg = document.getElementById('lightboxImg');
    galleryImgs.forEach(img=>{
      img.addEventListener('click', ()=>{
        lbImg.src = img.src;
        lightbox.style.display='flex';
        lightbox.setAttribute('aria-hidden','false');
      });
    });
    lightbox.addEventListener('click', ()=>{ lightbox.style.display='none'; lightbox.setAttribute('aria-hidden','true'); });

    // Share button
    if(navigator.share){
      const shareBtn = document.createElement('button');
      shareBtn.className='btn btn-ghost';
      shareBtn.textContent = 'Compartilhar';
      shareBtn.addEventListener('click', ()=>{
        navigator.share({title:'Convite Marcos & Rafaelly', text:'Você foi convidado para o casamento de Marcos & Rafaelly — 10/01/2026', url:location.href});
      });
      document.querySelector('.actions').appendChild(shareBtn);
    }

    // Keyboard shortcut R
    window.addEventListener('keydown',(e)=>{ if(e.key.toLowerCase()==='r') rsvpBtn.click(); });
  </script>
</body>
</html>
